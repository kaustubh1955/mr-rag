# Example RAG configuration with LLM Rewriter
# This config shows how to use the LLM rewriter to refine retrieved documents before generation

defaults:
    - _self_
    - retriever: contriever  # or any other retriever
    - reranker: null  # optional
    - generator: llama-3-8b-instruct  # or any other generator
    - dataset: kilt_nq  # or your dataset
    - train: null
    - prompt: basic
    - context_processor: llm_rewriter/rewriter_basic  # Enable LLM rewriter

# Main configuration
run_name: "rag_with_llm_rewriter"
dataset_folder: 'datasets/'
index_folder: 'indexes/'
runs_folder: 'runs/'
generated_query_folder: 'generated_queries/'
processed_context_folder: 'processed_contexts/'
experiments_folder: 'experiments/'   

# Retrieval and generation settings
retrieve_top_k: 50
rerank_top_k: 50
generation_top_k: 5  # These 5 documents will be rewritten before passing to generator

# Processing settings
pyserini_num_threads: 20
processing_num_proc: 40

hydra:
    job:
        chdir: False
